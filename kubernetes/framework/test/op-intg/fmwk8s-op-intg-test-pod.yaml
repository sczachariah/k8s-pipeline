---
apiVersion: v1
kind: Pod
metadata:
  name: fmwk8s-op-intg-test
spec:
  restartPolicy: Never
  containers:
    - name: fmwk8s-op-intg-test
      image: "%TEST_IMAGE%"
      imagePullPolicy: Always
      terminationGracePeriodSeconds: %HOURS_AFTER_SECONDS%
      envFrom:
        - configMapRef:
            name: fmwk8s-op-intg-env-configmap
      volumeMounts:
        - mountPath: "%LOG_DIRECTORY%"
          name: fmwk8s-log-volume
      lifecycle:
        preStop:
          exec:
            command: [
              # Stop Container Termination for Debugging
              "tail", "-f", "/dev/null", "&"
            ]
  volumes:
    - name: fmwk8s-log-volume
      persistentVolumeClaim:
        claimName: fmwk8s-op-intg-pvc-%RUN_ID%
---
---
